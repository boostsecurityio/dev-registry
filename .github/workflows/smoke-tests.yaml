name: Smoke Tests
on:
  pull_request:
    types: [opened, synchronize, reopened]
    paths: ['scanners/**']
jobs:
  scan_job:
    name: Github Actions
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0  # Need full history to detect changes
      - name: Run Tests
        uses: martin-boost-dev/boostsec-registry-test-action@main
        with:
          provider: github
          provider-config: |
            {
              "token": "${{ secrets.GITHUB_TOKEN }}",
              "owner": "martin-boost-dev",
              "repo": "boostsec-registry-test-runner",
              "workflow_id": "test-scanner.yml"
            }
